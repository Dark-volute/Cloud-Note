exports.ids=[1],exports.modules={33:function(t,e,o){var content=o(42);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var n=o(2).default;t.exports.__inject__=function(t){n("06444ad5",content,!0,t)}},34:function(t,e,o){var content=o(44);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var n=o(2).default;t.exports.__inject__=function(t){n("117a3265",content,!0,t)}},35:function(t,e,o){var content=o(49);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var n=o(2).default;t.exports.__inject__=function(t){n("175c86e9",content,!0,t)}},39:function(t,e,o){"use strict";var n={name:"mPopover",props:{position:{type:String,default:"top",validator:t=>["top","bottom","left","right"].indexOf(t)>=0},trigger:{type:String,default:"click",validator:t=>["click","hover"].indexOf(t)>=0}},data:()=>({visible:!1}),mounted(){this.addPopoverListeners()},beforeDestroy(){this.putBackContent(),this.removePopoverListeners()},computed:{openEvent(){return"click"===this.trigger?"click":"mouseenter"},closeEvent(){return"click"===this.trigger?"click":"mouseleave"}},methods:{addPopoverListeners(){"click"===this.trigger?this.$refs.popover.addEventListener("click",this.onClick):(this.$refs.popover.addEventListener("mouseenter",this.open),this.$refs.popover.addEventListener("mouseleave",this.close))},removePopoverListeners(){"click"===this.trigger?this.$refs.popover.removeEventListener("click",this.onClick):(this.$refs.popover.removeEventListener("mouseenter",this.open),this.$refs.popover.removeEventListener("mouseleave",this.close))},putBackContent(){const{contentWrapper:t,popover:e}=this.$refs;t&&e.appendChild(t)},positionContent(){const{contentWrapper:t,triggerWrapper:e}=this.$refs;document.body.appendChild(t);const{width:o,height:n,top:r,left:c}=e.getBoundingClientRect(),{height:l}=t.getBoundingClientRect();let d={top:{top:r+window.scrollY,left:c+window.scrollX},bottom:{top:r+n+window.scrollY,left:c+window.scrollX},left:{top:r+window.scrollY+(n-l)/2,left:c+window.scrollX},right:{top:r+window.scrollY+(n-l)/2,left:c+window.scrollX+o}};t.style.left=d[this.position].left+"px",t.style.top=d[this.position].top+"px"},onClickDocument(t){this.$refs.popover&&(this.$refs.popover===t.target||this.$refs.popover.contains(t.target))||this.$refs.contentWrapper&&(this.$refs.contentWrapper===t.target||this.$refs.contentWrapper.contains(t.target))||this.close()},open(){this.visible=!0,this.$nextTick(()=>{this.positionContent(),document.addEventListener("click",this.onClickDocument)})},close(){this.visible=!1,document.removeEventListener("click",this.onClickDocument)},onClick(t){this.$refs.triggerWrapper.contains(t.target)&&(!0===this.visible?this.close():this.open())}}},r=o(3);var component=Object(r.a)(n,function(){var t,e=this,o=e.$createElement;return(e._self._c||o)("div",{ref:"popover",staticClass:"popover"},[e.visible?e._ssrNode("<div"+e._ssrClass("content-wrapper",(t={},t["position-"+e.position]=!0,t))+" data-v-76120395>","</div>",[e._t("content",null,{close:e.close})],2):e._e(),e._ssrNode(" "),e._ssrNode('<span style="display: inline-block;" data-v-76120395>',"</span>",[e._t("default")],2)],2)},[],!1,function(t){var e=o(41);e.__inject__&&e.__inject__(t)},"76120395","56c5ca69");e.a=component.exports},40:function(t,e,o){t.exports=o.p+"img/fa2c050.png"},41:function(t,e,o){"use strict";o.r(e);var n=o(33),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},42:function(t,e,o){(t.exports=o(1)(!1)).push([t.i,'.popover[data-v-76120395]{display:inline-block;vertical-align:top;position:relative}.content-wrapper[data-v-76120395]{position:absolute;border:1px solid #ccc;border-radius:4px;background:#fff;padding:.5em 1em;max-width:20em;word-break:break-all;cursor:pointer}.content-wrapper[data-v-76120395]:after,.content-wrapper[data-v-76120395]:before{content:"";display:block;border:10px solid transparent;width:0;height:0;position:absolute}.content-wrapper.position-top[data-v-76120395]{-webkit-transform:translateY(-100%);transform:translateY(-100%);margin-top:-10px}.content-wrapper.position-top[data-v-76120395]:after,.content-wrapper.position-top[data-v-76120395]:before{left:10px}.content-wrapper.position-top[data-v-76120395]:before{border-top-color:#ccc;border-bottom:none;top:100%}.content-wrapper.position-top[data-v-76120395]:after{border-top-color:#fff;border-bottom:none;top:calc(100% - 1px)}.content-wrapper.position-bottom[data-v-76120395]{margin-top:10px}.content-wrapper.position-bottom[data-v-76120395]:after,.content-wrapper.position-bottom[data-v-76120395]:before{left:10px}.content-wrapper.position-bottom[data-v-76120395]:before{border-top:none;border-bottom-color:#ccc;bottom:100%}.content-wrapper.position-bottom[data-v-76120395]:after{border-top:none;border-bottom-color:#fff;bottom:calc(100% - 1px)}.content-wrapper.position-left[data-v-76120395]{-webkit-transform:translateX(-100%);transform:translateX(-100%);margin-left:-10px}.content-wrapper.position-left[data-v-76120395]:after,.content-wrapper.position-left[data-v-76120395]:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);top:50%}.content-wrapper.position-left[data-v-76120395]:before{border-left-color:#ccc;border-right:none;left:100%}.content-wrapper.position-left[data-v-76120395]:after{border-left-color:#fff;border-right:none;left:calc(100% - 1px)}.content-wrapper.position-right[data-v-76120395]{margin-left:10px}.content-wrapper.position-right[data-v-76120395]:after,.content-wrapper.position-right[data-v-76120395]:before{-webkit-transform:translateY(-50%);transform:translateY(-50%);top:50%}.content-wrapper.position-right[data-v-76120395]:before{border-right-color:#ccc;border-left:none;right:100%}.content-wrapper.position-right[data-v-76120395]:after{border-right-color:#fff;border-left:none;right:calc(100% - 1px)}',""])},43:function(t,e,o){"use strict";o.r(e);var n=o(34),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},44:function(t,e,o){(t.exports=o(1)(!1)).push([t.i,".m-aside{height:100%;flex-basis:60px;background:#f8f8f8;padding:40px 20px;position:relative;z-index:2}.m-aside header{color:#fff;align-items:center;margin-bottom:40px}.m-aside .info,.m-aside header{display:flex;justify-content:space-between}.m-aside .info{height:100%;flex-direction:column}.m-aside .tab-list{color:#263d96;font-size:12px}.m-aside .tab-list li{cursor:pointer;margin-bottom:30px;border:1px solid #ccc;border-radius:50%;display:inline-block;padding:10px;transition:.4s}.m-aside .tab-list .nuxt-link-exact-active,.m-aside .tab-list li:hover{background:#727abd;color:#fff;border-color:#727abd}.m-aside .user{cursor:pointer}.m-aside .user img{height:45px;width:45px;display:inline-block}",""])},47:function(t,e,o){"use strict";o(6);var n={computed:{user(){return this.$store.state.user}},methods:{loginOut(){this.$axios.post("/logOut"),this.$router.push("/login")}},components:{mPopover:o(39).a}},r=o(3);var component=Object(r.a)(n,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-aside"},[t._ssrNode('<div class="info">',"</div>",[t._ssrNode('<ul class="tab-list">',"</ul>",[t._ssrNode('<li style="color:#ffbd39"><i class="iconfont icon-star"></i></li> '),n("nuxt-link",{attrs:{to:"/main",tag:"li"}},[n("i",{staticClass:"iconfont icon-note"})]),t._ssrNode(" "),n("nuxt-link",{attrs:{to:"/book",tag:"li"}},[n("i",{staticClass:"iconfont icon-notebook"})]),t._ssrNode(" "),n("nuxt-link",{attrs:{to:"/trash",tag:"li"}},[n("i",{staticClass:"iconfont icon-trash"})]),t._ssrNode(" "),n("nuxt-link",{attrs:{to:"/search",tag:"li"}},[n("i",{staticClass:"iconfont icon-search"})])],2),t._ssrNode(" "),n("m-popover",{attrs:{position:"right"}},[t.user?n("div",{staticClass:"user"},[n("img",{attrs:{src:o(40)}})]):t._e(),t._v(" "),n("template",{slot:"content"},[n("span",{on:{click:t.loginOut}},[t._v("登出")])])],2)],2)])},[],!1,function(t){var e=o(43);e.__inject__&&e.__inject__(t)},null,"6424ab08");e.a=component.exports},48:function(t,e,o){"use strict";o.r(e);var n=o(35),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},49:function(t,e,o){(t.exports=o(1)(!1)).push([t.i,".m-button{font-size:14px;height:2em;padding:0 1em;border-radius:4px;border:1px solid #727abd;background:#727abd;color:#fff;cursor:pointer}",""])},55:function(t,e,o){"use strict";var n={name:"mButton",props:{icon:{},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},iconPosition:{type:String,default:"left",validator:t=>!("left"!==t&&"right"!==t)}}},r=o(3);var component=Object(r.a)(n,function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"m-button",class:["icon-"+t.iconPosition,t.disabled?"m-button--disabled":""],attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._ssrNode('<div class="m-button-content">',"</div>",[t._t("default")],2)])},[],!1,function(t){var e=o(48);e.__inject__&&e.__inject__(t)},null,"33bf90c4");e.a=component.exports},58:function(t,e,o){var content=o(71);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var n=o(2).default;t.exports.__inject__=function(t){n("75aa37ea",content,!0,t)}},59:function(t,e,o){var content=o(73);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var n=o(2).default;t.exports.__inject__=function(t){n("bdc29a62",content,!0,t)}},70:function(t,e,o){"use strict";o.r(e);var n=o(58),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},71:function(t,e,o){(t.exports=o(1)(!1)).push([t.i,".fade-enter-active,.fade-leave-active{transition:opacity .1s}.fade-enter,.fade-leave-to{opacity:0}.m-layer{position:absolute;top:30%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:99;width:100%;display:flex;flex-direction:column;align-items:center}.m-shade{position:fixed;left:0;top:0;right:0;border-bottom:0;width:100%;height:100%;opacity:.8;background:#fff;z-index:98}",""])},72:function(t,e,o){"use strict";o.r(e);var n=o(59),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e.default=r.a},73:function(t,e,o){(t.exports=o(1)(!1)).push([t.i,".books{height:100%;display:flex}.books .container-right{flex:auto}.books .add-book{padding:20px;border-bottom:1px solid #ccc}.books .book-list{padding:40px}.books .book-list li{cursor:pointer;margin-bottom:20px;padding:10px;border:1px solid #ccc;border-radius:4px;display:flex;justify-content:space-between}.books .book-list .describe{font-size:12px;color:#ccc}.books .book-describe,.books .layer h2{margin-bottom:40px}.books .book-describe input{display:block;height:30px;width:100px}",""])},84:function(t,e,o){"use strict";o.r(e);var aside=o(47),n={name:"mLayer",props:{visible:{type:Boolean,default:!1}},data:()=>({}),mounted(){document.addEventListener("keydown",t=>{27==t.keyCode&&(this.$parent.visible=!1)})},methods:{}},r=o(3);var c=Object(r.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}]},[e("div",{staticClass:"m-layer"},[this._t("default")],2),this._v(" "),e("div",{staticClass:"m-shade"})])])},[],!1,function(t){var e=o(70);e.__inject__&&e.__inject__(t)},null,"73cf8452").exports,l=o(55),d={components:{mAside:aside.a,mLayer:c,mButton:l.a},asyncData:async({app:t})=>({books:(await t.$axios.get("/notebook")).data}),data:()=>({visible:!1,describe:"",bookname:""}),methods:{addbook(){this.visible=!0},async getBooks(){let t=await this.$axios.get("/notebook");this.books=t.data},createbook(){this.$axios.post("/notebook",{describe:this.describe,bookname:this.bookname}).then(t=>{this.visible=!1,this.getBooks()})},deleteBook(t){this.$axios.delete(`/notebook/${t}`).then(t=>{this.getBooks()})}}};var f=Object(r.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"books"},[o("m-aside"),t._ssrNode(" "),t._ssrNode('<div class="container-right">',"</div>",[t._ssrNode('<div class="add-book">',"</div>",[o("m-button",{on:{click:t.addbook}},[t._v("添加笔记本")])],1),t._ssrNode(' <ul class="book-list">'+t._ssrList(t.books,function(e){return'<li><div><i class="iconfont icon-notebook"></i> <span>'+t._ssrEscape(t._s(e.bookname))+'</span> <span class="describe">'+t._ssrEscape(t._s(e.isDefault?"默认":"")+" "+t._s(e.describe))+"</span></div> <span>x</span></li>"})+"</ul>")],2),t._ssrNode(" "),o("m-layer",{staticClass:"layer",attrs:{visible:t.visible}},[o("h2",[t._v("添加笔记")]),t._v(" "),o("div",{staticClass:"book-describe"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.bookname,expression:"bookname"}],attrs:{placeholder:"笔记名"},domProps:{value:t.bookname},on:{input:function(e){e.target.composing||(t.bookname=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.describe,expression:"describe"}],attrs:{placeholder:"描述"},domProps:{value:t.describe},on:{input:function(e){e.target.composing||(t.describe=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"btns"},[o("m-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),o("m-button",{on:{click:t.createbook}},[t._v("创建")])],1)])],2)},[],!1,function(t){var e=o(72);e.__inject__&&e.__inject__(t)},null,"2c9fd911");e.default=f.exports}};
//# sourceMappingURL=99ea07ac1d70484718c1.js.map